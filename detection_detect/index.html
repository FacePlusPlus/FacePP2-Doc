<!DOCTYPE html>
    <!--[if lt IE 7]>      <html lang="zh" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
    <!--[if IE 7]>         <html lang="zh" class="no-js lt-ie9 lt-ie8"> <![endif]-->
    <!--[if IE 8]>         <html lang="zh" class="no-js lt-ie9"> <![endif]-->
    <!--[if gt IE 8]><!--> <html lang="zh" class="no-js"> <!--<![endif]-->
    <head>
        <title>/detection/detect | API文档 | Face++ 最好的免费人脸识别云服务</title>
        <meta charset="utf-8">
        <meta name="keywords" content="">
        <meta name="description" content="">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=1180, initial-scale=1.0">
        <link rel="stylesheet" href="../wp-content/themes/faceplusplus/assets/css/all.css?v=2">
        <link rel="stylesheet" href="../wp-content/themes/faceplusplus/assets/css/theme/light/all.css?v=2">
        <!--<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,400">-->
        <script src="../wp-content/themes/faceplusplus/assets/js/modernizr.min.js?v=2"></script>

        <link rel="alternate" type="application/rss+xml" title="Face++ 最好的免费人脸识别云服务 &raquo; /detection/detect评论Feed" href="http://www.faceplusplus.com.cn/detection_detect/feed/" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.faceplusplus.com.cn/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.faceplusplus.com.cn/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='API功能总述' href='http://www.faceplusplus.com.cn/api-overview/' />
<link rel='next' title='/train/search' href='http://www.faceplusplus.com.cn/train_search/' />
<meta name="generator" content="WordPress 3.7.1" />
<link rel='shortlink' href='http://www.faceplusplus.com.cn/?p=72' />

<!-- All in One SEO Pack 2.0.4.1 by Michael Torbert of Semper Fi Web Design[-1,-1] -->
<meta name="description" content="/detection/detect 描述 检测给定图片(Image)中的所有人脸(Face)的位置和相应的面部属性 目前面部属性包括性别(gender), 年龄(age), 种族(race), 微笑程度(smiling), 眼镜(glass)和姿势(pose) 若结果的face_id没有" />

<link rel="canonical" href="index.html" />
<!-- /all in one seo pack -->
    </head>
    <body>
        <div id="page-wrap">
            <header id="header">
                <nav id="header-nav">
                    <a id="header-logo" href="http://www.faceplusplus.com.cn/" class="dev-zh"></a>
                    <ul id="header-primary-nav" class="nav-dropdown2 dev-center"><li><a href="http://www.faceplusplus.com.cn/uc_home/">开发者中心</a></li>
<li><a href="http://www.faceplusplus.com.cn/uc/people/home">我的应用</a></li>
<li><a href="http://www.faceplusplus.com.cn/create-a-new-app/">快速开始</a></li>
<li><a href="http://www.faceplusplus.com.cn/api-overview/">API文档</a></li>
<li><a href="http://www.faceplusplus.com.cn/dev-tools-sdks/">开发工具与SDK</a></li>
</ul>
                    <ul id="header-secondary-nav" class="nav-dropdown">
                        <li id="page-user-nav" class="hide-theme-dark"><a href="http://www.faceplusplus.com.cn/uc/people/login" class="btn btn-highlight" data-modal-id="login-modal">登录</a></li>
                        <li><a href="http://www.faceplusplus.com.cn/uc/people/signup" class="page-user-nav-hide-login btn">注册</a></li>

                        <li aria-haspopup="true" class="hide-theme-dark"><a href="index.html#" class="btn nav-btn">
                            Language <i class="icon icon-angle-down"></i></a>
                          <ul class="nav-btn-dropdown">
                            <li><a href="http://www.faceplusplus.com/">English</a></li>
                            <li><a href="http://www.faceplusplus.com.cn/">中文</a></li>
                          </ul>
                    </ul>
                </nav>
            </header>
            <div id="login-modal" class="modal">
                <div class="modal-content">
                    <button class="close" data-modal-close>&times;</button>
                    <h3>登录</h3>
                    <form class="form-styled form-modal" action="http://www.faceplusplus.com.cn/uc/people/login2" method="post">
                        <div class="field">
                            <input id="login_name" name="login_name" type="text" required size="40" placeholder="用户名" />
                        </div>
                        <div class="field">
                            <input id="pwd" name="pwd" type="password" required size="40" placeholder="密码" />
                        </div>
                        <div class="field modal-submit-field">
                            <input class="btn btn-highlight" value="登录" type="submit" />
                            <div>
                                <a href="http://www.faceplusplus.com.cn/uc/people/signup">注册</a> | <a href="http://www.faceplusplus.com.cn/uc/people/get_pwd">忘记密码</a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
<div id="main-content" class="g-container">
    <div class="g-row g-equal-height">
        <div class="g-span-4">
            <nav class="nav-sidebar tree-style"><ul><li><h3>API概述</h3><ul><li><a href="http://www.faceplusplus.com.cn/api-overview/">API功能概览</a></li></ul></li><li><h3>人脸检测与分析</h3><ul><li><a class="active" href="index.html">/detection/detect</a></li><li><a href="http://www.faceplusplus.com.cn/detectionlandmark/">/detection/landmark</a></li></ul></li><li><h3>训练模型</h3><ul><li><a href="http://www.faceplusplus.com.cn/train_verify/">/train/verify</a></li><li><a href="http://www.faceplusplus.com.cn/train_search/">/train/search</a></li><li><a href="http://www.faceplusplus.com.cn/trainidentify/">/train/identify</a></li></ul></li><li><h3>人脸识别</h3><ul><li><a href="http://www.faceplusplus.com.cn/recognitioncompare/">/recognition/compare</a></li><li><a href="http://www.faceplusplus.com.cn/recognitionverify-2/">/recognition/verify</a></li><li><a href="http://www.faceplusplus.com.cn/recognitionidentify/">/recognition/identify</a></li><li><a href="http://www.faceplusplus.com.cn/recognitionsearch/">/recognition/search</a></li></ul></li><li><h3>人脸聚类与分组</h3><ul><li><a href="http://www.faceplusplus.com.cn/groupinggrouping/">/grouping/grouping</a></li></ul></li><li><h3>Person管理</h3><ul><li><a href="http://www.faceplusplus.com.cn/personcreate/">/person/create</a></li><li><a href="http://www.faceplusplus.com.cn/persondelete/">/person/delete</a></li><li><a href="http://www.faceplusplus.com.cn/personadd_face/">/person/add_face</a></li><li><a href="http://www.faceplusplus.com.cn/personremove_face/">/person/remove_face</a></li><li><a href="http://www.faceplusplus.com.cn/personset_info/">/person/set_info</a></li><li><a href="http://www.faceplusplus.com.cn/personget_info/">/person/get_info</a></li></ul></li><li><h3>FaceSet管理</h3><ul><li><a href="http://www.faceplusplus.com.cn/facesetcreate/">/faceset/create</a></li><li><a href="http://www.faceplusplus.com.cn/facesetdelete/">/faceset/delete</a></li><li><a href="http://www.faceplusplus.com.cn/facesetadd_face/">/faceset/add_face</a></li><li><a href="http://www.faceplusplus.com.cn/facesetremove_face/">/faceset/remove_face</a></li><li><a href="http://www.faceplusplus.com.cn/facesetset_info/">/faceset/set_info</a></li><li><a href="http://www.faceplusplus.com.cn/facesetget_info/">/faceset/get_info</a></li></ul></li><li><h3>Group管理</h3><ul><li><a href="http://www.faceplusplus.com.cn/groupcreate/">/group/create</a></li><li><a href="http://www.faceplusplus.com.cn/groupdelete/">/group/delete</a></li><li><a href="http://www.faceplusplus.com.cn/groupadd_person/">/group/add_person</a></li><li><a href="http://www.faceplusplus.com.cn/groupremove_person/">/group/remove_person</a></li><li><a href="http://www.faceplusplus.com.cn/groupset_info/">/group/set_info</a></li><li><a href="http://www.faceplusplus.com.cn/groupget_info/">/group/get_info</a></li></ul></li><li><h3>信息查询</h3><ul><li><a href="http://www.faceplusplus.com.cn/infoget_image/">/info/get_image</a></li><li><a href="http://www.faceplusplus.com.cn/infoget_face/">/info/get_face</a></li><li><a href="http://www.faceplusplus.com.cn/infoget_person_list/">/info/get_person_list</a></li><li><a href="http://www.faceplusplus.com.cn/infoget_faceset_list/">/info/get_faceset_list</a></li><li><a href="http://www.faceplusplus.com.cn/infoget_group_list/">/info/get_group_list</a></li><li><a href="http://www.faceplusplus.com.cn/infoget_session/">/info/get_session</a></li><li><a href="http://www.faceplusplus.com.cn/infoget_app/">/info/get_app</a></li></ul></li></ul></nav>        </div>
        <div class="g-span-8 api-doc">
            <h1>/detection/detect</h1>
<h2>描述</h2>
<div class="description">
<p>检测给定图片(Image)中的所有人脸(Face)的位置和相应的面部属性</p>
<ul>
<li>目前面部属性包括性别(gender), 年龄(age), 种族(race), 微笑程度(smiling), 眼镜(glass)和姿势(pose)</li>
</ul>
<div class="note">若结果的face_id没有被加入任何faceset/person之中，则在72小时之后过期被自动清除。</div>
</div>
<h2>参数</h2>
<table class="param-table table-styled">
<thead>
<tr><th> </th><th>参数名</th><th>参数说明</th></tr>
</thead>
<tbody>
<tr>
<td class="param-type">必须</td>
<td>api_key</td>
<td>App的Face++ API Key</td>
</tr>
<tr>
<td> </td>
<td>api_secret</td>
<td>APP的Face++ API Secret</td>
</tr>
<tr>
<td> </td>
<td>url 或 img[POST]</td>
<td>待检测图片的URL 或者 通过POST方法上传的二进制数据，原始图片大小需要小于1M</td>
</tr>
<tr>
<td class="param-type">可选</td>
<td>mode</td>
<td>检测模式可以是normal(默认) 或者 oneface 。在oneface模式中，检测器仅找出图片中最大的一张脸。</td>
</tr>
<tr>
<td> </td>
<td>attribute</td>
<td>可以是none或者由逗号分割的属性列表。默认为gender, age, race, smiling。目前支持的属性包括：gender, age, race, smiling, glass, pose</td>
</tr>
<tr>
<td> </td>
<td>tag</td>
<td>可以为图片中检测出的每一张Face指定一个不包含^@,&amp;=*'"等非法字符且不超过255字节的字符串作为tag，tag信息可以通过 /info/get_face 查询</td>
</tr>
<tr>
<td> </td>
<td>async</td>
<td>如果置为true，该API将会以异步方式被调用；也就是立即返回一个session id，稍后可通过/info/get_session查询结果。默认值为false。</td>
</tr>
</tbody>
</table>
<h2>返回值说明</h2>
<table class="return-table table-styled">
<thead>
<tr><th>字段</th><th>类型</th><th>说明</th></tr>
</thead>
<tbody>
<tr>
<td>session_id</td>
<td>string</td>
<td>相应请求的session标识符，可用于结果查询</td>
</tr>
<tr>
<td>url</td>
<td>string</td>
<td>请求中图片的url</td>
</tr>
<tr>
<td>img_id</td>
<td>string</td>
<td>Face++系统中的图片标识符，用于标识用户请求中的图片</td>
</tr>
<tr>
<td>face_id</td>
<td>string</td>
<td>被检测出的每一张人脸都在Face++系统中的标识符</td>
</tr>
<tr>
<td>img_width</td>
<td>integer</td>
<td>请求图片的宽度</td>
</tr>
<tr>
<td>img_height</td>
<td>integer</td>
<td>请求图片的高度</td>
</tr>
<tr>
<td>face</td>
<td>array</td>
<td>被检测出的人脸的列表</td>
</tr>
<tr>
<td>width</td>
<td>float</td>
<td>0~100之间的实数，表示检出的脸的宽度在图片中百分比</td>
</tr>
<tr>
<td>height</td>
<td>float</td>
<td>0~100之间的实数，表示检出的脸的高度在图片中百分比</td>
</tr>
<tr>
<td>center</td>
<td>object</td>
<td>检出的人脸框的中心点坐标, x &amp; y 坐标分别表示在图片中的宽度和高度的百分比 (0~100之间的实数)</td>
</tr>
<tr>
<td>eye_left</td>
<td>object</td>
<td>相应人脸的左眼坐标，x &amp; y 坐标分别表示在图片中的宽度和高度的百分比 (0~100之间的实数)</td>
</tr>
<tr>
<td>eye_right</td>
<td>object</td>
<td>相应人脸的右眼坐标，x &amp; y 坐标分别表示在图片中的宽度和高度的百分比 (0~100之间的实数)</td>
</tr>
<tr>
<td>mouth_left</td>
<td>object</td>
<td>相应人脸的左侧嘴角坐标，x &amp; y 坐标分别表示在图片中的宽度和高度的百分比 (0~100之间的实数)</td>
</tr>
<tr>
<td>mouth_right</td>
<td>object</td>
<td>相应人脸的右侧嘴角坐标，x &amp; y 坐标分别表示在图片中的宽度和高度的百分比 (0~100之间的实数)</td>
</tr>
<tr>
<td>nose</td>
<td>object</td>
<td>相应人脸的鼻尖坐标，x &amp; y 坐标分别表示在图片中的宽度和高度的百分比 (0~100之间的实数)</td>
</tr>
<tr>
<td>attribute</td>
<td>object</td>
<td>包含一系列人脸的属性分析结果</td>
</tr>
<tr>
<td>gender</td>
<td>object</td>
<td>包含性别分析结果，value的值为Male/Female, confidence表示置信度</td>
</tr>
<tr>
<td>age</td>
<td>object</td>
<td>包含年龄分析结果，value的值为一个非负整数表示估计的年龄, range表示估计年龄的正负区间</td>
</tr>
<tr>
<td>race</td>
<td>object</td>
<td>包含人种分析结果，value的值为Asian/White/Black, confidence表示置信度</td>
</tr>
<tr>
<td>smiling</td>
<td>object</td>
<td>
<p>包含微笑程度分析结果，value的值为0－100的实数，越大表示微笑程度越高</p>
</td>
</tr>
<tr>
<td>glass</td>
<td>object</td>
<td>
<p>包含眼镜佩戴分析结果，value的值为None/Dark/Normal, confidence表示置信度</p>
</td>
</tr>
<tr>
<td>pose</td>
<td>object</td>
<td>
<p>包含脸部姿势分析结果，包括pitch_angle, roll_angle, yaw_angle，分别对应抬头，旋转（平面旋转），摇头。单位为角度。</p>
</td>
</tr>
</tbody>
</table>
<h2>调用示例</h2>
<div class="example">http://apicn.faceplusplus.com/v2/detection/detect?api_key=YOUR_API_KEY&amp;api_secret=YOUR_API_SECRET&amp;url=http%3A%2F%2Ffaceplusplus.com%2Fstatic%2Fimg%2Fdemo%2F1.jpg&amp;attribute=glass,pose,gender,age,race,smiling</div>
<h2>JSON 示例</h2>
<pre class="response"><code>{
    "face": [
        {
            "attribute": {
                "age": {
                    "range": 5, 
                    "value": 23
                }, 
                "gender": {
                    "confidence": 99.9999, 
                    "value": "Female"
                }, 
                "glass": {
                    "confidence": 99.945, 
                    "value": "None"
                }, 
                "pose": {
                    "pitch_angle": {
                        "value": 17
                    }, 
                    "roll_angle": {
                        "value": 0.735735
                    }, 
                    "yaw_angle": {
                        "value": -2
                    }
                }, 
                "race": {
                    "confidence": 99.6121, 
                    "value": "Asian"
                }, 
                "smiling": {
                    "value": 4.86501
                }
            }, 
            "face_id": "17233b4b1b51ac91e391e5afe130eb78", 
            "position": {
                "center": {
                    "x": 49.4, 
                    "y": 37.6
                }, 
                "eye_left": {
                    "x": 43.3692, 
                    "y": 30.8192
                }, 
                "eye_right": {
                    "x": 56.5606, 
                    "y": 30.9886
                }, 
                "height": 26.8, 
                "mouth_left": {
                    "x": 46.1326, 
                    "y": 44.9468
                }, 
                "mouth_right": {
                    "x": 54.2592, 
                    "y": 44.6282
                }, 
                "nose": {
                    "x": 49.9404, 
                    "y": 38.8484
                }, 
                "width": 26.8
            }, 
            "tag": ""
        }
    ], 
    "img_height": 500, 
    "img_id": "22fd9efc64c87e00224c33dd8718eec7", 
    "img_width": 500, 
    "session_id": "38047ad0f0b34c7e8c6efb6ba39ed355", 
    "url": "http://www.faceplusplus.com.cn/wp-content/themes/faceplusplus/assets/img/demo/1.jpg?v=4"
}
</code></pre>
<h2>错误列表</h2>
<table class="error-table table-styled centered">
<thead>
<tr><th>错误代码</th><th>HTTP 状态代码</th><th>错误信息</th></tr>
</thead>
<tbody>
<tr>
<td>1001</td>
<td>500</td>
<td>INTERNAL_ERROR</td>
</tr>
<tr>
<td>1003</td>
<td>403</td>
<td>AUTHORIZATION_ERROR</td>
</tr>
<tr>
<td>1003</td>
<td>403</td>
<td>INSUFFICIENT_PRIVILEGE_OR_QUOTA_LIMIT_EXCEEDED</td>
</tr>
<tr>
<td>1004</td>
<td>400</td>
<td>MISSING_ARGUMENTS</td>
</tr>
<tr>
<td>1005</td>
<td>400</td>
<td>INVALID_ARGUMENTS</td>
</tr>
<tr>
<td>1006</td>
<td>403</td>
<td>ILLEGAL_USE_OF_DEMO_KEY</td>
</tr>
<tr>
<td>1202</td>
<td>502</td>
<td>SERVER_TOO_BUSY</td>
</tr>
<tr>
<td>1301</td>
<td>431</td>
<td>IMAGE_ERROR_UNSUPPORTED_FORMAT</td>
</tr>
<tr>
<td>1302</td>
<td>432</td>
<td>IMAGE_ERROR_FAILED_TO_DOWNLOAD</td>
</tr>
<tr>
<td>1303</td>
<td>433</td>
<td>IMAGE_ERROR_FILE_TOO_LARGE</td>
</tr>
<tr>
<td>1304</td>
<td>434</td>
<td>IMAGE_ERROR</td>
</tr>
<tr>
<td>1502</td>
<td>452</td>
<td>BAD_TAG</td>
</tr>
</tbody>
</table>        </div>
    </div>
</div>
        <div class="footer-push"></div>
        </div>

        <footer class="footer">
            <div class="g-container">
                <div class="g-row">
                    <nav class="footer-nav"><div class="g-span-2"><ul><li class="heading">Face++</li><li><a href="http://www.faceplusplus.com.cn/about/">关于我们</a><li><a href="http://www.faceplusplus.com.cn/join/">加入我们</a><li><a href="http://www.faceplusplus.com.cn/privacy-policy/">隐私政策</a><li><a href="http://www.faceplusplus.com.cn/term-of-use/">使用条款</a></ul></div><div class="g-span-2"><ul><li class="heading">新闻</li><li><a href="http://www.faceplusplus.com.cn/category/news/press/">媒体报道</a><li><a href="http://www.faceplusplus.com.cn/category/news/blog/">更新日志</a></ul></div><div class="g-span-2"><ul><li class="heading">支持</li><li><a href="http://www.faceplusplus.com.cn/api-overview/">API文档</a><li><a href="http://www.faceplusplus.com.cn/dev-tools-sdks/">开发工具与SDK</a><li><a href="http://research.faceplusplus.com/">学术研究</a><li><a href="http://www.faceplusplus.com.cn/faq/">常见问题</a></ul></div></nav>                    <div class="g-span-3" style="font-size:11px;color:#ddd">
<ul>
<li style="padding-bottom:5px;color:#FFF;font-size:14px">联系方式</li>
<li>技术支持：support@faceplusplus.com</li>
<li>商务合作：business@faceplusplus.com</li>
<li>010-62508622</li>
<li>400-6700-866</li>
<li>（周一至周五 10:00-18:30）</li>
<li>北京市海淀区科学院南路2号融科资讯中心A座3层</li>
</ul>
                    </div>
                    <div class="footer-copyright" class="g-span-6">
                         &copy; 2015 北京旷视科技有限公司 版权所有
                                                       <br>京ICP备12036813号-6
                              <br>京公网安备11010802014104号
                                             </div>
                </div>
            </div>
        </footer>
        <script src="../wp-content/themes/faceplusplus/assets/js/all.js?v=2"></script>
        <!--#uc_script#-->
        		<script type="text/javascript">
	        var _bdhmProtocol = (("https:" ==document.location.protocol) ? " https://" : " http://");
	        document.write(unescape("%3Cscript src='" + _bdhmProtocol +"hm.baidu.com/h.js%3F6a215c84698e9a0f587474e49b264edd'type='text/javascript'%3E%3C/script%3E"));
	    </script>
    </body>
</html>
